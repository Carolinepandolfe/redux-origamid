<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Redux</title>
  <script src="./redux.min.js"></script>
  <script src="./immer.umd.production.min.js"></script>
</head>

<body>
  <script>

    const initialState = {
      nome: "Caroline",
      idade: 25
    }

    const reducer = immer.produce((state, action) => {
      switch (action.type) {
        case 'MUDAR_NOME':
          return { ...state, nome: action.payload };
      }
    }, initialState);

    // Sem o Immer
    // const reducer = (state = initialState, action) => {
    //   switch (action.type) {
    //     case 'MUDAR_NOME':
    //       return { ...state, nome: action.payload };
    //     case 'MUDAR_IDADE':
    //       return {
    //         ...state,
    //         sobre: {
    //           ...state.sobre,
    //           dados: {
    //             ...state.sobre.dados,
    //             idade: action.payload,
    //           },
    //         },
    //       };
    //     default:
    //       return state;
    //   }
    // };

    const store = Redux.createStore(
      reducer,
      window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),
    );

    store.dispatch({ type: "MUDAR_NOME", payload: "Peleba" });
    store.dispatch({ type: "MUDAR_NOME", payload: "bvhgccv" });
    store.dispatch({ type: "MUDAR_NOME", payload: "utrejk" });

  </script>
</body>

</html>